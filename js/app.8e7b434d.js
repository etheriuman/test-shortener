(function(e){function t(t){for(var n,s,u=t[0],c=t[1],i=t[2],f=0,p=[];f<u.length;f++)s=u[f],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,i||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,u=1;u<r.length;u++){var c=r[u];0!==a[c]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},o=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/test-shortener/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[e._m(0),r("Shorterner"),r("History")],1)},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title text-center my-5"},[r("h2",[e._v("picsee短網址產生器")])])}],s=(r("7b17"),r("ab8b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"shorterner-wrapper"},[r("div",{staticClass:"input-wrapper mb-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入目標網址"},domProps:{value:e.url},on:{input:function(t){t.target.composing||(e.url=t.target.value)}}})]),e.shorternUrl?r("div",{staticClass:"shortern-url-wrapper text-center mb-3"},[r("p",[e._v("您的短網址是：")]),r("p",{attrs:{id:"shortern-url"}},[e._v(e._s(e.shorternUrl))])]):e._e(),r("div",{staticClass:"actions-wrapper"},[e.shorternUrl?r("button",{staticClass:"btn btn-sm btn-warning mb-3",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.copyShorternUrl.apply(null,arguments)}}},[e._v("複製短網址")]):e._e(),r("button",{staticClass:"btn btn-sm btn-dark",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.createShorternUrl.apply(null,arguments)}}},[e._v("產生短網址")])])])}),u=[],c=r("5530"),i=r("2909"),l=r("1da1"),f=(r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("ac1f"),r("841c"),r("99af"),r("7db0"),r("d81d"),r("96cf"),r("3d20")),p=r.n(f),d=r("bc3a"),h=r.n(d),m="https://api.pics.ee/v1/links",b={access_token:"20f07f91f3303b2f66ab6f61698d977d69b83d64"},v={createShorternUrl:function(e){var t={url:e};return h.a.post(m,t,{params:b})}},w={name:"shorterner",data:function(){return{url:"",shorternUrl:""}},methods:{createShorternUrl:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.url){t.next=4;break}return e.sweetAlert("warning","請填入網址！"),t.abrupt("return");case 4:return t.next=6,v.createShorternUrl(e.url);case 6:r=t.sent,n=r.data,e.shorternUrl=n.data.picseeUrl,e.setLocalFeatureData(),e.sweetAlert("success","您的網址已經縮短！"),t.next=18;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0),e.sweetAlert("error","無法取得結果，請輸入有效網址！"),e.url="";case 18:case"end":return t.stop()}}),t,null,[[0,13]])})))()},copyShorternUrl:function(){var e=document.createRange(),t=document.querySelector("#shortern-url");e.selectNode(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(e),document.execCommand("copy"),this.sweetAlert("success","已複製到剪貼簿！")},setLocalFeatureData:function(){var e=this,t=JSON.parse(localStorage.getItem("featureData"))||[],r=new URLSearchParams(window.location.search),n=r.get("feature");null!==n&&(t.some((function(e){return e.featureName===n}))||(t=[].concat(Object(i["a"])(t),[{featureName:n,featureLinkCount:1,featureLinks:[{url:this.url,shorternUrl:this.shorternUrl}]}])),"admin"!==n&&t.find((function(e){return e.featureName===n})).featureLinkCount>=3?this.sweetAlert("warning","超出次數！"):(t.map((function(t){return t.featureName===n?Object(c["a"])(Object(c["a"])({},t),{},{featureLinkCount:t.featureLinkCount+1,featureLinks:[].concat(Object(i["a"])(t.featureLinks),[{url:e.url,shorternUrl:e.shorternUrl}])}):t})),localStorage.setItem("featureData",JSON.stringify(t))))},sweetAlert:function(e,t){var r=p.a.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3});r.fire({icon:e,title:t})}}},g=w,y=(r("574e"),r("2877")),_=Object(y["a"])(g,s,u,!1,null,"114f5f76",null),S=_.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"history-wrapper"},[e._v(" this is history ")])},x=[],k={name:"history",data:function(){return{history:[]}},methods:{getHistory:function(){var e=new URLSearchParams(window.location.search),t=e.get("feature"),r=JSON.parse(localStorage.getItem("featureData"));console.log(r,t)}},created:function(){this.getHistory()}},U=k,j=Object(y["a"])(U,O,x,!1,null,"9d16c422",null),C=j.exports,L={name:"App",components:{Shorterner:S,History:C}},P=L,N=(r("034f"),Object(y["a"])(P,a,o,!1,null,null,null)),A=N.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(A)}}).$mount("#app")},"574e":function(e,t,r){"use strict";r("5a66")},"5a66":function(e,t,r){},"85ec":function(e,t,r){}});
//# sourceMappingURL=app.8e7b434d.js.map